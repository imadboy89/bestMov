(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{194:function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe}));var a=n(0),i=n.n(a),r=n(4),o=n.n(r),s=n(10),l=n.n(s),c=n(13),u=n.n(c),m=n(15),h=n.n(m),d=n(16),g=n.n(d),f=n(7),v=n.n(f),p=n(3),y=n(11),k=n(1),b=n(27),w=n(47),_=n(39),x=n(63),E=n(97),S=n(67),C=n(62),P=n(96),M=p.a.create({container:{justifyContent:"center",height:600},horizontal:{justifyContent:"space-around",padding:10}}),A=i.a.createElement(k.a,{style:[M.container,M.horizontal]},i.a.createElement(P.a,{size:"large",color:"#00ff00"})),B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",I={btoa:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t,a="",i=0,r=0,o=B;n.charAt(0|r)||(o="=",r%1);a+=o.charAt(63&i>>8-r%1*8)){if((e=n.charCodeAt(r+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|e}return a},atob:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/=+$/,""),n="";if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,i=0,r=0,o=0;a=t.charAt(o++);~a&&(r=i%4?64*r+a:a,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)a=B.indexOf(a);return n}},T=n(5),R=n(19),N=n.n(R),W=function(){function e(){var t=this;l()(this,e),this.saveLink=function(e,n){var a,i;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.a.awrap(t.getConfigs_local("links_manager"));case 2:if("Not Active"!=(a=r.sent)&&""!=a){r.next=5;break}return r.abrupt("return",new Promise((function(e,t){return!1})));case 5:return i=(i=e.split("/")[e.split("/").length-1]).replace("[EgyBest]","").trim(),e=a+"?action=save&link="+e+"&name="+i+"&img="+n,r.abrupt("return",fetch(e,{method:"GET"}).then((function(e){return e.text()})).catch((function(e){console.log(e),t.error=e})));case 9:case"end":return r.stop()}}),null,null,null,Promise)},this.setConfigs=function(){var e;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(N.a.getItem("configs"));case 2:return(e=n.sent)?((e=JSON.parse(e)).action_link=t.configs.action_link,e.action_using=e.action_using<e.action_link.length?e.action_using:t.configs.action_using,e.links_manager=e.action_link.indexOf(e.links_manager)?e.links_manager:e.action_link[e.action_using]):(e=t.configs).webView_visible=!0,n.next=6,o.a.awrap(N.a.setItem("configs",JSON.stringify(e)));case 6:case"end":return n.stop()}}),null,null,null,Promise)},this.setConfig=function(e,t){var n;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(N.a.getItem("configs"));case 2:if(!(n=a.sent)){a.next=8;break}return(n=JSON.parse(n))[e]=t,a.next=8,o.a.awrap(N.a.setItem("configs",JSON.stringify(n)));case 8:case"end":return a.stop()}}),null,null,null,Promise)},this.getConfigs_local=function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(N.a.getItem("configs"));case 2:if(t=n.sent,t=JSON.parse(t),!e){n.next=8;break}return n.abrupt("return",e in t?t[e]:-1);case 8:return n.abrupt("return",t);case 9:case"end":return n.stop()}}),null,null,null,Promise)},this.error=null,this.data=null,this.domain="https://egy.best",this.cats=["trending","movies","movies/latest-bluray-2017-2016","tv","latest","arab"],this.pagenation="?page=[page_nbr]&output_format=json&output_mode=movies_list",this.configs={},this.proxy="https://www.oxus.tj/sites/default/private/files/.proxy.php?url=",this.usingproxy="web"==T.a.OS,this.isWeb="web"==T.a.OS,this.config_url="https://raw.githubusercontent.com/imadboy89/bestMov/master/Libs/configs.json",this.links_manager="http://bestmov.byethost16.com/",this.links_manager="http://demoo8.vipserv.org/.index.php",this.links_manager="https://www.oxus.tj/sites/default/private/files/.index.php"}return u()(e,[{key:"getConfigs",value:function(){var e=this,t=this.config_url;this.usingproxy&&(t=this.proxy+t);return fetch(t).then((function(e){return e.json()})).then((function(t){e.configs=t;for(var n=0;n<e.configs.action_link.length;n++)""==e.configs.action_link[n]?e.configs.action_link[n]="Not Active":e.configs.action_link[n]=I.atob(e.configs.action_link[n]);e.configs.links_manager="action_using"in e.configs?e.configs.action_link[e.configs.action_using]:e.configs.action_link[0],e.setConfigs()})).catch((function(t){console.log("ERROR",t),e.error=t}))}},{key:"parse_args",value:function(e){var t="&";for(var n in e)"number"!=typeof e[n]&&"string"!=typeof e[n]||(t+=n+"="+e[n]+"&");return t}},{key:"API_get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return!1;"api"==(e=(e=n>0?e+this.pagenation.replace("[page_nbr]",n):e)&&"/"==e[0]?e.slice(1):e).slice(0,3)&&!0;var a="http"==e.slice(0,4)?e:this.domain+"/"+e;return this.usingproxy&&(a=this.proxy+a),fetch(a).then((function(e){return t.usingproxy?t.domain=t.domain:t.domain=e.url.split("/")[0]+"//"+e.url.split("/")[2],401==e.status?(t.error="Please Sign in first !",e):n>0?e.json():e.text()})).catch((function(e){console.log(e),t.error=e}))}}]),e}(),O=n(126),V=n.n(O),L=function(){function e(){l()(this,e),this.error=null,this.movies=null,this.API=new W}return u()(e,[{key:"htmlentities",value:function(e){try{var t=String(e).replace(/&amp;/g,"&").replace(/lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');return t=t.replace(/&bull;/g,"").replace(/\u2022/g,"").replace(/&nbsp;/g," ")}catch(n){return e}}},{key:"saveLink",value:function(e){return this.API.saveLink(e)}},{key:"getText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof Object&&"firstChild"in e){if(!(e.firstChild instanceof Object)||!("text"in e.firstChild))return this.getText(e.firstChild);var n=e.firstChild.text;return n.includes("<")&&0==t?this.getText(e.firstChild):this.htmlentities(n)}}},{key:"getTextAll",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof Object&&"firstChild"in e){if(!(e.firstChild instanceof Object)||!("text"in e.firstChild))return this.getText(e.firstChild,!0);for(var n="",a=0;a<e.children.length;a++){var i=e.children[a],r=i.text;if(r.includes("<")){if(t)return this.getText(i);try{n+=" "+this.getText(i).trim()}catch(o){}}else{if(t)return r;n+=" "+this.htmlentities(r).trim()}}return n}return""}},{key:"getDlLink",value:function(e){return this.API.API_get(e,-1).then((function(e){}))}},{key:"getStory",value:function(e){try{for(var t=e.getElementsByClassName("bdb"),n=0;n<t.length;n++){var a=t[n];if("\u0627\u0644\u0642\u0635\u0629"==this.getText(a.getElementsByTagName("strong")[0]).trim())return this.getTextAll(a.parent.getElementsByTagName("div")[2])}}catch(i){return""}}},{key:"getTrailer",value:function(e){try{return e.getElementById("yt_trailer").getElementsByClassName("play")[0].attributes.url}catch(t){return""}}},{key:"getMovie",value:function(e){var t=this;return!!e&&(console.log("_",e,"_"),this.API.API_get(e,-1).then((function(n){var a={},i=V()(n);if(i){var r=i.getElementsByClassName("movieTable")[0];a.trailer=t.getTrailer(i),a.link=e,a.title=t.getTextAll(r.getElementsByClassName("movie_title")[0]),a.img=i.getElementsByClassName("movie_img")[0].getElementsByTagName("img")[0].attributes.src;for(var o=r.getElementsByTagName("tr"),s=0;s<o.length;s++){o[s];var l=o[s].getElementsByTagName("td");l.length<=1||("\u0627\u0644\u062a\u0642\u064a\u064a\u0645"!=t.getTextAll(l[0]).trim()?a[t.getTextAll(l[0])]=t.getTextAll(l[1]):(a[t.getTextAll(l[0])]=t.getTextAll(l[1].getElementsByTagName("strong")[0]),a[t.getTextAll(l[0])]+="   | \u0635\u0648\u062a "+t.getTextAll(l[1].getElementsByClassName("hide")[0])))}a.story=t.getStory(i),a.dl=[];try{a.dl[0]={quality:"WATCH",dl_link:i.getElementById("watch_dl").getElementsByTagName("iframe")[0].attributes.src}}catch(S){for(var c=i.getElementsByClassName("movies_small"),u=0;u<c.length;u++){var m=c[u].getElementsByTagName("a"),h=m[0].attributes.href.split("/")[3];if("season"==h||"episode"==h){a[h]=[];for(var d=0;d<m.length;d++){var g=m[d],f={};f.title=t.getText(g.getElementsByClassName("title")[0]),f.url=g.attributes.href,a[h].push(f)}}}}if(a.dl.length>0){var v=i.getElementsByClassName("dls_table");if(v instanceof Object){var p=v[0].getElementsByTagName("tbody")[0].getElementsByTagName("tr"),y=v[0].getElementsByTagName("thead")[0].getElementsByTagName("th"),k=[];for(s=0;s<y.length;s++)k.push(t.getText(y[s]));for(s=0;s<p.length;s++){var b=p[s].getElementsByTagName("td");if(b.length>=2){for(var w={},_=0;_<k.length;_++){var x=b[_].getElementsByClassName("g"),E=b[_];x&&x.length>0?(E=x[0].attributes["data-url"],w.dl_link=E):w[k[_]]=t.getText(E)}a.dl.push(w)}}}}}return a})))}},{key:"getMovies",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var n=this;return this.API.API_get(e,t).then((function(a){var i,r=[];if(a instanceof Object&&"html"in a)try{i=V()(a.html)}catch(c){return console.log("_",a,"_"),[]}else{try{i=V()(a)}catch(c){return console.log("re-try"),getMovies(e,t)}i=i.getElementsByClassName("movies")[0]}for(var o=i.getElementsByClassName("movie"),s=0;s<o.length;s++){var l={};l.link=o[s].attributes.href,l.rating=n.getText(o[s].getElementsByClassName("rating")[0]),l.img=o[s].getElementsByTagName("img")[0].attributes.src,l.quality=n.getText(o[s].getElementsByClassName("ribbon")[0]),l.title=n.getText(o[s].getElementsByClassName("title")[0]),l.key=l.title,l.img="//"==l.img.slice(0,2)?"https:"+l.img:l.img,r.push(l)}return r}))}))}]),e}(),D=n(35);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var J=p.a.create({container:{marginTop:20,marginLeft:20,marginRight:20,height:300,backgroundColor:"black"},title:{fontSize:18,color:"white"},container_text:{backgroundColor:"#34495e",justifyContent:"center"},description:{fontSize:11,fontStyle:"italic"},image:{flex:1}}),z=function(e){h()(n,e);var t=j(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this;if(!this.props.movie)return null;var t=this.props.movie.rating?this.props.movie.rating:"-";t="-"==t&&this.props.movie[" \u0627\u0644\u062a\u0642\u064a\u064a\u0645"]?this.props.movie[" \u0627\u0644\u062a\u0642\u064a\u064a\u0645"].trim().split(" ")[0]:t;var n=this.props.movie.quality?this.props.movie.quality:"-";n="-"==n&&this.props.movie[" \u0627\u0644\u062c\u0648\u062f\u0629"]?this.props.movie[" \u0627\u0644\u062c\u0648\u062f\u0629"].trim().split(" ")[0]:n;var a=this.props.isWatched?"#2980b9":"white";return i.a.createElement(C.a,{onPress:function(){return e.props.navigation.navigate("Movie",{movie:e.props.movie})}},i.a.createElement(k.a,{style:J.container},""!=this.props.movie.img&&i.a.createElement(k.a,{style:{flex:1,backgroundColor:"black",borderStyle:"solid",borderWidth:1,borderColor:a}},i.a.createElement(E.a,{source:{uri:this.props.movie.img},style:J.image},i.a.createElement(k.a,{style:{justifyContent:"center",alignItems:"center",backgroundColor:"#2c3e5094",flexDirection:"row",color:a}},i.a.createElement(y.a,{style:{width:"49%",fontSize:18,color:a}},"Rating : ",t),i.a.createElement(y.a,{style:{width:"49%",fontSize:18,color:a}},"Quality : ",n)))),i.a.createElement(k.a,{style:J.container_text},i.a.createElement(y.a,{style:J.title},this.props.movie.title))))}}]),n}(i.a.Component),q=function(e){h()(n,e);var t=j(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).getMovies_favorites=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(N.a.getItem("favorites"));case 2:return e=(e=t.sent)?JSON.parse(e):{},t.abrupt("return",Object.values(e));case 5:case"end":return t.stop()}}),null,null,null,Promise)},a.getDl=function(){var e,t,n;return o.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a.state.mlist,console.log("getDl"),i.next=4,o.a.awrap(N.a.getItem("downloaded"));case 4:if(downloaded=i.sent,e=!1,!downloaded){i.next=19;break}downloaded=JSON.parse(downloaded),t=0;case 9:if(!(t<downloaded.length)){i.next=17;break}if(downloaded[t]&&null!=downloaded[t]&&void 0!=downloaded[t]&&""!=downloaded[t]){i.next=12;break}return i.abrupt("continue",14);case 12:(n=downloaded[t].match(/https?:\/\/[^\/]+\/([^\?]+)/i))&&n.length>=2?(downloaded[t]=n[1],e=!0):downloaded[t]&&downloaded[t].length>0&&"/"==downloaded[t][0]&&(downloaded[t]=downloaded[t].slice(1),e=!0);case 14:t++,i.next=9;break;case 17:i.next=20;break;case 19:downloaded=[];case 20:if(!e){i.next=23;break}return i.next=23,o.a.awrap(N.a.setItem("downloaded",JSON.stringify(downloaded)));case 23:a.setState({downloaded:downloaded});case 24:case"end":return i.stop()}}),null,null,null,Promise)},a.navbtns=function(){return i.a.createElement(k.a,{style:{flex:1,flexDirection:"row",justifyContent:"center",marginBottom:36}},a.state.page>1&&0!=a.state.mlist&&a.state.mlist.length>0&&i.a.createElement(D.a.Button,{name:"backward",title:">",style:{backgroundColor:"green"},onPress:function(e){a.state.page=a.state.page>5?a.state.page-5:0,a.setState({mlist:!1}),a.getMoviesList(a.props.cat)}}),i.a.createElement(k.a,{style:{width:7}}),a.state.page>1&&0!=a.state.mlist&&a.state.mlist.length>0&&i.a.createElement(D.a.Button,{name:"chevron-left",style:{backgroundColor:"green"},title:"<",disabled:a.state.page<=1||0==a.state.mlist.length||0==a.state.mlist,onPress:function(e){a.state.page-=1,a.setState({mlist:!1}),a.getMoviesList(a.props.cat)}}),i.a.createElement(y.a,{style:{width:30,color:"yellow",textAlign:"center",fontSize:14}},a.state.page),i.a.createElement(D.a.Button,{name:"chevron-right",title:">",style:{backgroundColor:"green"},disabled:0==a.state.mlist.length||0==a.state.mlist,onPress:function(e){a.state.page+=1,a.setState({mlist:!1}),a.getMoviesList(a.props.cat)}}),i.a.createElement(k.a,{style:{width:7}}),0!=a.state.mlist&&a.state.mlist.length>0&&i.a.createElement(D.a.Button,{name:"forward",title:">",style:{backgroundColor:"green"},onPress:function(e){a.state.page+=5,a.setState({mlist:!1}),a.getMoviesList(a.props.cat)}}))},a.state={output:"walo",mlist:[],page:1},a.cat="",a.MAPI=new L,a.MAPI.API=a.props.API,a.didBlurSubscription=a.props.navigation.addListener("didFocus",(function(e){a.getDl()})),a}return u()(n,[{key:"getMoviesList",value:function(e){var t=this;if(""!=e)if("Favorites"!=e){var n="/"==e[0]?-1:this.state.page,a=e+"_"+n;this.getMoviesList_local(a).then((function(i){i?t.setState({mlist:i}):t.MAPI.getMovies(e,n).then((function(e){t.setMoviesList_local(a,e),t.setState({mlist:e})}))}))}else this.getMovies_favorites().then((function(e){t.setState({mlist:e.reverse()})}))}},{key:"setMoviesList_local",value:function(e,t){N.a.getItem("cat").then((function(n){n?((n=JSON.parse(n))[e]=t,N.a.setItem("cat",JSON.stringify(n))):(n={cat:t},N.a.setItem("cat",JSON.stringify(n)))}))}},{key:"getMoviesList_local",value:function(e){return N.a.getItem("cat").then((function(t){return t?(t=JSON.parse(t),e in t&&t[e]):(N.a.setItem("cat","{}"),!1)}))}},{key:"emptyMsg",value:function(){return i.a.createElement(y.a,{style:{height:600,color:"white"}},"There is no Results for  [",this.q,"] .")}},{key:"render",value:function(){var e=this;this.cat!=this.props.cat&&(this.state.mlist=!1,this.state.page=1,this.getMoviesList(this.props.cat),this.cat=this.props.cat);var t=null;return!1===this.state.mlist?t=A:0==this.state.mlist.length?t=this.emptyMsg():this.state.mlist.length>0&&(t=i.a.createElement(S.a,{ListFooterComponent:this.navbtns,data:this.state.mlist,renderItem:function(t){var n=t.item;return i.a.createElement(z,{navigation:e.props.navigation,movie:n,isWatched:!(e.state.downloaded&&"object"==typeof e.state.downloaded&&n.link&&n.link.split&&n.link.match(/\/?([^\?]+)/i)&&n.link.match(/\/?([^\?]+)/i).length>=2&&-1==e.state.downloaded.indexOf(n.link.match(/\/?([^\?]+)/i)[1]))})},keyExtractor:function(e,t){return e&&e.link?e.link:t+""}})),i.a.createElement(k.a,{style:{backgroundColor:"black",flex:1,height:"100%"}},t)}}]),n}(i.a.Component),F=n(187),$=p.a.create({header:{backgroundColor:"#34495e"},container:{flex:1,flexDirection:"row"},title:{fontSize:16,color:"#e67e22"},title_home:{fontSize:20,color:"#e67e22",marginLeft:10}}),H=p.a.create({button:{padding:5,fontSize:26,color:"white"}});function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var G=function(e){h()(n,e);var t=U(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).drawerContent=function(){var e=a.cats.map((function(e,t){return i.a.createElement(b.a,{style:{margin:5,padding:5},color:"Favorites"==e.name?"#2980b9":a.state.cat.toLowerCase()==e.name?"#a7cdd0":"#7f8c8d",title:e.name,key:e.name,onPress:function(){a.setState({cat:e.uri,openSidMenu:!1})}})}));return i.a.createElement(k.a,{style:{flex:1,paddingBottom:10}},i.a.createElement(_.a,{style:{backgroundColor:"#34495e",color:"black",padding:10,flex:.9}},e,i.a.createElement(y.a,{style:{margin:5,padding:5,color:"white"}},"\xa9 2019-11-28"),i.a.createElement(y.a,{style:{margin:5,padding:5,color:"white"}},"\xa9 By ImadBoss"),i.a.createElement(y.a,{style:{margin:5,padding:5}},"--"),i.a.createElement(y.a,{style:{margin:5,padding:5}},"--")))},a.toggleOpen=function(){console.log(!a.state.openSidMenu),a.setState({openSidMenu:!a.state.openSidMenu})},a.openModal=function(){a.setState({modalVisible:!0})},a.openSettings=function(){a.props.navigation.navigate("Settings",{API:a.API})},a.navigationOptions={headerStyle:$.header,headerTitle:function(e){return i.a.createElement(k.a,{style:{flex:1}},i.a.createElement(y.a,{style:$.title_home},a.state.cat))},headerLeft:function(e){return i.a.createElement(k.a,{style:{flexDirection:"row"}},i.a.createElement(D.a,{style:[H.button,{marginLeft:10}],color:"#3498db",name:"reorder",onPress:function(){return a.toggleOpen()},title:"Menu"}),i.a.createElement(D.a,{style:[H.button,{color:"#3498db",marginLeft:10}],name:"wrench",onPress:function(){return a.openSettings()},title:"Settings"}))},headerRight:function(e){return i.a.createElement(D.a,{style:[H.button,{marginRight:10}],name:"search",onPress:function(){return a.openModal()},title:"Search"})}},a.state={openSidMenu:!1,cat:"movies",modalVisible:!1},a.cats=[{name:"Home",uri:"movies"},{name:"Favorites",uri:"Favorites"},{name:"Top Movies",uri:"movies/top"},{name:"Top Series",uri:"tv/top"},{name:"Popular",uri:"movies/popular"},{name:"SCI-FI",uri:"movies/scifi"},{name:"Comedy",uri:"movies/comedy"},{name:"Series",uri:"tv"},{name:"Trending",uri:"trending"},{name:"Bluray",uri:"movies/bluray"},{name:"2019",uri:"movies/2019"},{name:"2018",uri:"movies/2018"},{name:"Bluray-webdl",uri:"movies/bluray-webdl"},{name:"subtitled",uri:"movies/subbed"},{name:"US",uri:"movies/us"},{name:"Arabe",uri:"movies/arab"},{name:"Egypt",uri:"movies/eg"},{name:"Hindi",uri:"movies/hindi"},{name:"Korean",uri:"movies/korean"},{name:"Japanese",uri:"movies/japanese"},{name:"Asian",uri:"movies/japanese-korean-mandarin-chinese-cantonese-thai"},{name:"Horror",uri:"movies/horror"},{name:"Action",uri:"movies/action"},{name:"Romance",uri:"movies/romance"},{name:"Animation",uri:"movies/animation"},{name:"Documentary",uri:"movies/documentary"},{name:"War",uri:"movies/war"},{name:"Spanish",uri:"movies/spanish"}],a.q="",a.clearCache(),a.API=new W,a.API.getConfigs(),a.clearCache().then((function(){a.setState({cat:"movies"})})),a}return u()(n,[{key:"clearCache",value:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=N.a){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,o.a.awrap(N.a.setItem("movies",JSON.stringify({})));case 4:return e.abrupt("return",N.a.setItem("cat",JSON.stringify({})));case 5:case"end":return e.stop()}}),null,null,null,Promise)}},{key:"componentDidMount",value:function(){this.props.navigation.setOptions(this.navigationOptions)}},{key:"modal",value:function(){var e=this;return this.API.isWeb?null:i.a.createElement(x.a,{animationType:"slide",transparent:!0,visible:this.state.modalVisible,onRequestClose:function(){e.setState({modalVisible:!1})}},i.a.createElement(k.a,{style:{flex:.5,backgroundColor:"#2c3e5066"}}),i.a.createElement(k.a,{style:{height:50,backgroundColor:"#7f8c8d",flexDirection:"row"}},i.a.createElement(w.a,{style:{width:"80%",borderColor:"gray",borderWidth:1,color:"white",fontSize:18,margin:10},placeholder:"Searching for ..",placeholderTextColor:"#ecf0f1",onChangeText:function(t){e.q=t}}),i.a.createElement(D.a.Button,{title:"Search",name:"search",onPress:function(){e.setState({cat:"/explore/?q="+e.q,modalVisible:!1}),e.q=""}})),i.a.createElement(k.a,{style:{flex:1,backgroundColor:"#2c3e5066"}}))}},{key:"render",value:function(){return i.a.createElement(k.a,{style:{flex:1}},this.modal(),i.a.createElement(q,{API:this.API,cat:this.state.cat,style:{backgroundColor:"black"},navigation:this.props.navigation}),i.a.createElement(F.a,{open:this.state.openSidMenu,drawerContent:this.drawerContent(),drawerPercentage:60,animationTime:250,overlay:!0,opacity:.4}))}}]),n}(i.a.Component),K=(p.a.create({container:{backgroundColor:"#red",width:100,height:100},animatedBox:{flex:1,backgroundColor:"#38C8EC",padding:10},body:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#F04812"}}),G),Y=n(9),Q=n.n(Y),X=n(41),Z=n(45),ee=n(46);function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var ne=p.a.create({container:{backgroundColor:"black",flex:1,flexDirection:"column"},row:{flex:1,flexDirection:"row",alignItems:"center",height:30,marginRight:20,marginLeft:20,borderStyle:"solid",borderWidth:1,textAlign:"right",width:"95%"},story:{marginRight:20,marginLeft:20,borderStyle:"solid",borderWidth:1,textAlign:"right",width:"95%",marginBottom:20,marginTop:10,lineHeight:40},btn_dl:{flex:1,flexDirection:"row",alignItems:"center",height:30,width:"98%",paddingBottom:5,textAlign:"right"},row_q:{flex:1,flexDirection:"column",height:30,width:100,borderStyle:"solid",borderWidth:1,textAlign:"right"},title:{fontSize:18,color:"#000"},story_k:{backgroundColor:"#53634e",fontSize:16,fontWeight:"bold",width:"98%",color:"white",textAlign:"right"},story_v:{backgroundColor:"#7f8c8d",fontSize:14,fontWeight:"bold",width:"98%",color:"white",textAlign:"right",lineHeight:25},text_k:{backgroundColor:"#34495e",fontSize:16,fontWeight:"bold",width:"25%",color:"white",textAlign:"right"},text_v:{backgroundColor:"#34495e",fontSize:14,fontWeight:"bold",width:"75%",color:"white",textAlign:"right"},image:{flex:1}}),ae=function(e){h()(n,e);var t=te(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).navigationOptions={headerStyle:$.header,headerTitle:function(e){return i.a.createElement(y.a,{style:$.title},a.state.movie_title)},headerRight:function(e){return i.a.createElement(k.a,{style:{flex:1,flexDirection:"row",alignItems:"center"}},a.state.movie_title&&"Movie"!=a.state.movie_title&&""!=a.state.movie_title.trim()&&i.a.createElement(D.a,{name:a.state.isFav?"heart":"heart-o",style:[H.button,{color:"#e74c3c"}],onPress:function(){return a.setFav(!a.state.isFav)},title:"Save"}),i.a.createElement(D.a,{style:[H.button,{marginRight:10}],name:"refresh",onPress:function(){return a.deleteMovieCache()},title:"reFresh"}))}},a.deleteMovieCache=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(N.a.getItem("movies"));case 2:return e=t.sent,delete(e=JSON.parse(e))[a.link],t.next=7,o.a.awrap(N.a.setItem("movies",JSON.stringify(e)));case 7:a.setState({movie:!1}),a.history.pop(),a.getMovie(a.link);case 10:case"end":return t.stop()}}),null,null,null,Promise)},a.setMovie=function(e,t){var n,i,r=arguments;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(n=!(r.length>2&&void 0!==r[2])||r[2],a.history.push(e),a.getFav(),a.setState({movie:e}),a.state.movie_title=e.title,a.props.navigation.setOptions(a.navigationOptions),!n){s.next=14;break}return s.next=9,o.a.awrap(N.a.getItem("movies"));case 9:return i=s.sent,(i=JSON.parse(i))[t]=e,s.next=14,o.a.awrap(N.a.setItem("movies",JSON.stringify(i)));case 14:case"end":return s.stop()}}),null,null,null,Promise)},a.getDl=function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(N.a.getItem("downloaded"));case 2:downloaded=e.sent,downloaded?downloaded=JSON.parse(downloaded):downloaded=[],a.setState({downloaded:downloaded});case 5:case"end":return e.stop()}}),null,null,null,Promise)},a.setFav=function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(N.a.getItem("favorites"));case 2:return t=(t=n.sent)?JSON.parse(t):{},e?t[a.link]=a.state.movie:delete t[a.link],n.next=7,o.a.awrap(N.a.setItem("favorites",JSON.stringify(t)));case 7:a.setState({isFav:e}),a.props.navigation.setOptions(a.navigationOptions);case 9:case"end":return n.stop()}}),null,null,null,Promise)},a.getFav=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(N.a.getItem("favorites"));case 2:if(!(e=t.sent)){t.next=8;break}e=JSON.parse(e),a.link in e&&(a.setState({isFav:!0}),a.props.navigation.setOptions(a.navigationOptions)),t.next=10;break;case 8:return t.next=10,o.a.awrap(N.a.setItem("favorites","{}"));case 10:case"end":return t.stop()}}),null,null,null,Promise)},a.getMovie=function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.link=e,a.getingMovie=!0,n.next=4,o.a.awrap(N.a.getItem("movies"));case 4:if(!(t=n.sent)){n.next=16;break}if(t=JSON.parse(t),!(e in t)){n.next=11;break}a.setMovie(t[e],e,!1),n.next=14;break;case 11:if(e){n.next=13;break}return n.abrupt("return",!1);case 13:a.MAPI.getMovie(e).then((function(t){a.setMovie(t,e)}));case 14:n.next=19;break;case 16:return n.next=18,o.a.awrap(N.a.setItem("movies","{}"));case 18:a.MAPI.getMovie(e).then((function(t){console.log(t),a.setMovie(t,e)}));case 19:a.getingMovie=!1;case 20:case"end":return n.stop()}}),null,null,null,Promise)},a.state={output:"walo",movie:!1,movie_title:"Movie",isFav:!1,modalVisible:!1,downloaded:[]},a.MAPI=new L,a.link=a.getparam("link"),a.getMovie(a.link),a.history=a.props.route.params.history?a.props.route.params.history:[],a.handleBackButtonClick=a.handleBackButtonClick.bind(Q()(a)),a.current_ind=-1,a.getingMovie=!1,a.didBlurSubscription=a.props.navigation.addListener("didFocus",(function(e){a.getDl()})),a}return u()(n,[{key:"componentWillMount",value:function(){X.a.addEventListener("hardwareBackPress",this.handleBackButtonClick),console.log("willmount")}},{key:"componentWillUnmount",value:function(){X.a.removeEventListener("hardwareBackPress",this.handleBackButtonClick),console.log("willUNmount")}},{key:"handleBackButtonClick",value:function(){return this.history.length<=1?this.props.navigation.goBack(null):(this.history=this.history.slice(0,this.history.length-1),movie=this.history[this.history.length-1],this.setState({movie:movie}),this.props.navigation.setParams(movie)),!0}},{key:"componentDidMount",value:function(){this.props.navigation.setParams({movie_title:"Movie",deleteMovieCache:this.deleteMovieCache,setFav:this.setFav,isFav:this.state.isFav}),this.props.navigation.setOptions(this.navigationOptions)}},{key:"getVid",value:function(e,t){var n="/"==e[0];e="/"==e[0]?this.MAPI.API.domain+e:e,this.state.movie instanceof Object&&(t?this.props.navigation.navigate("WebViewer",{movie_link:e,movie_url:this.link,movie_img:this.state.movie.img,movie_title:this.getparam("title"),is_dl:n,quality:t,history:this.history}):this.props.navigation.navigate("Watch_WV",{movie_link:e,movie_url:this.link,movie_title:this.getparam("title"),history:this.history}))}},{key:"getparam",value:function(e){return this.props.route.params.movie[e]}},{key:"modal",value:function(){var e=this;return this.MAPI.API.isWeb?null:i.a.createElement(x.a,{animationType:"slide",transparent:!0,visible:this.state.modalVisible,onRequestClose:function(){e.setState({modalVisible:!1})}},i.a.createElement(k.a,{style:{flex:.1,backgroundColor:"black"}}),i.a.createElement(k.a,{style:{flex:1,backgroundColor:"black"}},i.a.createElement(Z.a,{source:{uri:this.state.movie.img},style:{flex:1},resizeMode:"contain"}),i.a.createElement(b.a,{style:{marginTop:50},title:"Close",color:"#34495e",onPress:function(){e.setState({modalVisible:!1})}})),i.a.createElement(k.a,{style:{flex:.1,backgroundColor:"black"}}))}},{key:"render",value:function(){var e=this,t="",n=this.state.movie?Object.keys(this.state.movie).map((function(n){var a=e.state.movie[n];if("dl"==n)return a.map((function(n,a){var r=Object.keys(n).map((function(e,t){return"dl_link"==e?"":n[e]+"  "}));return t=n.dl_link,i.a.createElement(b.a,{style:ne.btn_dl,key:Math.random(),title:r.join(" | "),color:"watch"==r[0].trim().toLowerCase()?"#16a085":"#2980b9",onPress:function(){r.length>=3?e.getVid(e.link,r[1]):e.getVid(n.dl_link)}})}));if("episode"==n||"season"==n){var r=a.map((function(t,n){return i.a.createElement(b.a,{style:ne.btn_dl,key:Math.random(),title:t.title,color:e.state.downloaded&&"object"==typeof e.state.downloaded&&t.url&&t.url.split&&t.url.match(/(https?:\/\/[^\/]+)?\/([^\?]+)/i)&&t.url.match(/(https?:\/\/[^\/]+)?\/([^\?]+)/i).length>=3&&-1==e.state.downloaded.indexOf(t.url.match(/(https?:\/\/[^\/]+)?\/([^\?]+)/i)[2])?"#2980b9":"#2e5671",onPress:function(){e.setState({movie:!1}),e.getMovie(t.url)}})}));return i.a.createElement(k.a,{key:Math.random(),style:{margin:20}},i.a.createElement(y.a,{style:{color:"orange",backgroundColor:"#2c3e50",fontSize:18}}," ",n," "),r)}return"story"==n?i.a.createElement(k.a,{style:ne.story,key:Math.random()},i.a.createElement(y.a,{style:ne.story_k},"  ",n," "),i.a.createElement(y.a,{style:ne.story_v}," ",a," ")):"trailer"==n?i.a.createElement(b.a,{style:ne.btn_dl,key:Math.random(),title:"Watch Trailer",color:"gray",onPress:function(){ee.a.openURL(e.state.movie.trailer)}}):"img"!=n&&("title"==n&&(a=e.getparam("title")),"link"!=n)?i.a.createElement(k.a,{style:ne.row,key:Math.random()},i.a.createElement(y.a,{style:ne.text_v}," ",a," "),i.a.createElement(y.a,{style:ne.text_k},"  ",n," ")):void 0})):A,a=i.a.createElement(b.a,{style:ne.btn_dl,key:Math.random(),title:"Movie page",color:"#8e44ad",onPress:function(){return e.getVid(e.link,t)}});this.state.movie instanceof Object&&"img"in this.state.movie&&(this.state.movie.img="http"==this.state.movie.img.slice(0,4)?this.state.movie.img:"https:"+this.state.movie.img);var r=this.state.movie instanceof Object&&this.state.movie.img?i.a.createElement(C.a,{onPress:function(){return e.setState({modalVisible:!0})}},i.a.createElement(Z.a,{source:{uri:this.state.movie.img},style:{height:400},resizeMode:"contain"})):i.a.createElement(y.a,null);return i.a.createElement(_.a,{style:ne.container},i.a.createElement(k.a,{style:{flex:1}},r),n,a,this.modal())}}]),n}(i.a.Component),ie=n(58),re=n(73);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var se=function(e){h()(n,e);var t=oe(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).onShare=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.awrap(re.a.share({title:"[bstMov]"+a.props.title,message:a.props.link}));case 3:(e=t.sent).action===re.a.sharedAction?e.activityType:(e.action,re.a.dismissedAction),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0.message);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)},a}return u()(n,[{key:"render",value:function(){return i.a.createElement(b.a,{onPress:this.onShare,title:"Share",disabled:this.props.disabled})}}]),n}(a.Component),le=n(136);function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var ue=p.a.create({container:{flex:1,backgroundColor:"black"},WebViewStyle:{width:"100%",height:"50%"},hidderStyle:{flex:1,marginBottom:500},WebViewStyle_hidden:{width:1,height:1},text_status:{backgroundColor:"black",color:"white",lineHeight:30,fontSize:14},text_k:{fontSize:16,fontWeight:"bold",width:"40%",color:"white",textAlign:"right"},text_v:{marginLeft:20,fontSize:14,fontWeight:"bold",width:"58%",color:"white",textAlign:"left"},row_view:{flex:1,flexDirection:"row",alignItems:"center",height:30,marginRight:10,marginLeft:10,marginBottom:10,borderStyle:"solid",borderWidth:1,textAlign:"right",width:"95%",backgroundColor:"#34495e"}}),me=function(e){h()(n,e);var t=ce(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).state={output:"walo",url:a.props.url},a}return u()(n,[{key:"_onNavigationStateChange",value:function(e){}},{key:"render",value:function(){var e=this;return i.a.createElement(le.a,{style:ue.WebViewStyle,source:{uri:this.state.url},onNavigationStateChange:this._onNavigationStateChange.bind(this),javaScriptEnabled:!0,domStorageEnabled:!0,ref:function(t){e.WebView=t},onLoad:function(t){e.state.url=t.nativeEvent.url},userAgent:"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36"})}}]),n}(i.a.Component),he=function(e){h()(n,e);var t=ce(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).setDl=function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(N.a.getItem("downloaded"));case 2:if(e=(e=n.sent)?JSON.parse(e):[],!((t=a.movie_url.match(/(https?:\/\/[^\/]+)?\/([^\?]+)/i))&&t.length>=3)){n.next=9;break}return e.push(t[2]),n.next=9,o.a.awrap(N.a.setItem("downloaded",JSON.stringify(e)));case 9:case"end":return n.stop()}}),null,null,null,Promise)},a.url=a.props.route.params.movie_link,a.movie_url=a.props.route.params.movie_url,a.movie_title=a.props.route.params.movie_title,a.is_dl=a.props.route.params.is_dl,a.quality=a.props.route.params.quality,a.movie_img=a.props.route.params.movie_img,a.url&&void 0!=a.url&&"/"!=a.url[0]||a.props.navigation.goBack(),a.state={output:"walo",movie_link:a.url,movie_title:a.movie_title,wvVisible:!0,links_manager:"",text_status:"Start",autoRetry:!1,ads_url:"",webView_visible:!0,movie_dl_link:"",movie_img:""},a.useragent="Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36",a.API_=new W,a.API_.getConfigs_local().then((function(e){a.state.webView_visible=e.webView_visible,a.state.links_manager=e.links_manager})),a.egy_retries=0,console.log(a.quality),a.injectedJS='\n        /*\n        window.onbeforeunload = function(event) {\n          if(document.location.href.includes("vidstream.to")){\n            event.returnValue = "Can be Ads, don\'t leave!";\n          }\n        };\n        */\n\n         function log(data){\n          try {\n            window.postMessage(data);\n          } catch (error) {\n            alert(" win.po "+error);\n          }\n        }\n        //alert("msg= adad");\n        window_open_ori = window.open;\n       window.open = function(url){\n         let openInfo = {};\n         openInfo["url"] = url;\n         openInfo["host"] = document.location.host;\n         openInfo["href"] = document.location.href;\n        log(JSON.stringify(openInfo) ); \n        return {"closed":false,close:function(){return true}};\n       }\n      let autoRetry = 1;\n        document.addEventListener("message", function(data) {\n          const data_ = data.data.split("=");\n          if(data_[0]=="autoRetry"){\n            autoRetry=parseInt(data_[1]);\n            log(data.data);\n            if($("a h1.error").length && autoRetry==1\n            ){\n              $("a h1.error").click();\n            }\n          }\n        });\n        let quality = "'+a.quality+'".trim();\n        \n\n        function GoToVids(){\n          log("msg= GoToVids");\n          if($(".dls_table td.tar a.g ").length && $($(".dls_table td.tar a.g ")[0]).attr("data-url")){\n            $(".dls_table td.tar a.g ").each(function(k,v){\n              log("msg= "+ $($(v).parent().parent().find("td")[1]).text().trim() + "," + $($(v).parent().parent().find("td")[1]).text().trim() == quality);\n              if( $($(v).parent().parent().find("td")[1]).text().trim() == quality){\n                let link = $(v).attr("data-url");//.replace("&auth","");\n                if(link.indexOf("&auth=")>-1){\n                  log("msg= auth");\n                  setTimeout(function() { \n                    document.location = link;\n                  }, 3000);\n                  return false;\n                }\n                document.location = link;\n                return;\n              }\n           });\n          }\n        }\n        \n        function getlink(){\n          if($("a.bigbutton._reload").length){\n            log("trload btn");\n            $("a.bigbutton._reload").click();\n          }else if($("a.bigbutton").length){\n            let dl_link = $("a.bigbutton").attr("href") ;\n            log("_dl_="+dl_link);\n            document.open();\n            document.write("saving .. pls wait !");\n            document.close();\n            \n          }\n        }\n        $(function(){\n          setTimeout(function() { \n            if($("a h1.error").length){\n              if(autoRetry==1){\n                $("a h1.error").click();\n              }\n              log("__status__=Blocked By -vidStream-");\n            }\n          }, 2000);\n\n          \n          setTimeout(function() { \n            GoToVids(); \n            getlink(); \n          \n          }, 1000);\n          \n        });\n      ',a.originWhitelist=["*.egy.*","vidstream.to","*.egybest.*"],a.originWhitelist=["*"],a.updt_count=2,a.handleBackButtonClick=a.handleBackButtonClick.bind(Q()(a)),a}return u()(n,[{key:"componentWillMount",value:function(){X.a.addEventListener("hardwareBackPress",this.handleBackButtonClick)}},{key:"componentWillUnmount",value:function(){X.a.removeEventListener("hardwareBackPress",this.handleBackButtonClick)}},{key:"handleBackButtonClick",value:function(){var e=this.props.route.params.history;return this.props.navigation.navigate("Movie",{movie:e[e.length-1],history:e}),!0}},{key:"componentDidMount",value:function(){var e=this,t=new W;this.props.navigation.setParams({movie_link:this.state.movie_link,movie_title:this.state.movie_title,API:t}),this.props.navigation.setOptions({headerTitle:function(t){return i.a.createElement(y.a,{style:$.title},e.state.movie_title)},headerRight:function(n){return i.a.createElement(k.a,{style:$.container},i.a.createElement(D.a,{style:H.button,size:20,color:"#3498db",name:"external-link",onPress:function(t){ee.a.openURL(e.state.movie_link)},title:"Open"}),i.a.createElement(D.a,{style:[H.button,{marginRight:10}],size:20,color:"#ecf0f1",name:"save",onPress:function(n){var a=t.links_manager+"?action=save&link="+e.state.movie_link+"&name="+e.state.movie_title;"web"==T.a.OS?window.open(a,"_blank"):ee.a.openURL(a)},title:"Save"}))}})}},{key:"onMessage",value:function(e){var t=this,n=e.nativeEvent.data.split("=");if("msg"==n[0])console.log(n[1]),"egy_retries_aug"==n[1].trim()&&(this.egy_retries+=1);else if("_dl_"==n[0]){var a=e.nativeEvent.data.slice(5);if(this.setState({ads_url:""}),"Not Active"==this.state.links_manager)return this.setState({text_status:"Movei Link gotted !",wvVisible:!1,movie_dl_link:a}),!0;this.API_.saveLink(a,this.movie_img).then((function(e){t.setDl(),""==e.trim()?t.API_.getConfigs_local("links_manager").then((function(e){t.setState({text_status:"Movei Link saved !",wvVisible:!1,movie_dl_link:a})})):!1===e?t.setState({text_status:"Movie link is ready !",wvVisible:!1,links_manager:"Not activated",movie_dl_link:a}):t.setState({text_status:"Error on saving !",wvVisible:!0,movie_dl_link:a})}))}else if("__status__"==n[0])this.setState({text_status:e.nativeEvent.data.replace("__status__=","")});else try{var i=JSON.parse(e.nativeEvent.data);if("href"in i){var r="/"==i.url[0]?"http://"+i.host+i.url:i.url;this.setState({ads_url:r})}}catch(o){}}},{key:"_onNavigationStateChange",value:function(e){this.WebView.postMessage("autoRetry="+(this.state.autoRetry?1:0)),this.WebView.postMessage("egy_retries="+this.egy_retries),this.WebView_url=e.url,e.url.split("/")[2]==this.state.text_status||this.state.text_status.includes("Blocked")||this.setState({text_status:e.url.split("/")[2]})}},{key:"render_WebView",value:function(){var e=this,t=this.state.wvVisible?i.a.createElement(le.a,{style:ue.WebViewStyle,source:{uri:this.state.movie_link},onNavigationStateChange:this._onNavigationStateChange.bind(this),javaScriptEnabled:!0,domStorageEnabled:!0,injectedJavaScript:this.injectedJS,onMessage:this.onMessage.bind(this),originWhitelist:this.originWhitelist,onLoadEnd:function(e){},ref:function(t){e.WebView=t},userAgent:this.useragent}):null;return this.API_.isWeb?i.a.createElement("iframe",{src:this.API_.proxy+this.state.movie_link,style:{flex:1,backgroundColor:"#000",borderWidth:0},seamless:!0}):t}},{key:"watch",value:function(){}},{key:"download",value:function(){ee.a.openURL(this.state.movie_dl_link)}},{key:"render_view",value:function(){var e=this;return i.a.createElement(k.a,{style:{height:300}},i.a.createElement(y.a,{style:ue.text_status},this.state.text_status),i.a.createElement(y.a,{style:ue.text_status},"Saved list : ",this.state.links_manager),i.a.createElement(b.a,{disabled:""==this.state.movie_dl_link,title:"Download / watch",color:"green",onPress:function(){return ee.a.openURL(e.state.movie_dl_link)}}),i.a.createElement(b.a,{disabled:!0,title:"Download2Server",color:"#16a085",onPress:function(){return ee.a.openURL(e.state.movie_dl_link)}}),i.a.createElement(se,{title:this.movie_title,link:this.state.movie_dl_link,disabled:""==this.state.movie_dl_link}),i.a.createElement(k.a,{style:ue.row_view},i.a.createElement(y.a,{style:ue.text_k}," AutoTry  :"),i.a.createElement(k.a,{style:ue.text_v},i.a.createElement(ie.a,{style:{width:60,height:30},value:this.state.autoRetry,onValueChange:function(t){e.WebView&&(e.WebView.postMessage("autoRetry="+(t?1:0)),e.setState({autoRetry:t}))}}))),i.a.createElement(k.a,{style:ue.row_view},i.a.createElement(y.a,{style:ue.text_k}," show webView  :"),i.a.createElement(k.a,{style:ue.text_v},i.a.createElement(ie.a,{style:{width:60,height:30},value:this.state.webView_visible,onValueChange:function(t){e.setState({webView_visible:t})}}))),i.a.createElement(k.a,{style:ue.row_view},i.a.createElement(y.a,{style:{backgroundColor:"#2980b9bf",color:"#ecf0f1"}},"Note : Please ignore any demand to open app in play store (or another), or alert message.")))}},{key:"render",value:function(){var e=""==this.state.ads_url?null:i.a.createElement(me,{url:this.state.ads_url});if(0==this.state.webView_visible)i.a.createElement(k.a,{style:ue.hidderStyle});var t=this.state.webView_visible?{width:"99%",height:"50%"}:{width:"1%",height:"1%"};return i.a.createElement(k.a,{style:ue.container},this.render_view(),i.a.createElement(k.a,{style:[t,{overflow:"hidden"}]},this.render_WebView(),e))}}]),n}(i.a.Component),de=n(8),ge=n.n(de),fe=n(74),ve=n(87);function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var ye=p.a.create({container:{backgroundColor:"black",flex:1,flexDirection:"column"},row_view:{flex:1,flexDirection:"row",alignItems:"center",height:30,marginRight:20,marginLeft:20,marginBottom:10,borderStyle:"solid",borderWidth:1,textAlign:"right",width:"95%"},row_q:{flex:1,flexDirection:"column",height:30,width:100,borderStyle:"solid",borderWidth:1,textAlign:"right"},title:{fontSize:18,color:"#000"},text_k:{fontSize:16,fontWeight:"bold",width:"30%",color:"white",textAlign:"right"},text_v:{marginLeft:20,fontSize:14,fontWeight:"bold",width:"65%",color:"white",textAlign:"left"},image:{flex:1},row:{flex:1,flexDirection:"row"},small_elemnt:{width:60,justifyContent:"center"}}),ke=function(e){h()(n,e);var t=pe(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).clearCache=function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(N.a.setItem("movies",JSON.stringify({})));case 2:return e.next=4,o.a.awrap(N.a.setItem("cat",JSON.stringify({})));case 4:a.setState({cache_cleared:!0}),fe.a.showWithGravity("The cache is cleaded !",fe.a.SHORT,fe.a.CENTER);case 6:case"end":return e.stop()}}),null,null,null,Promise)},a.state={webView_visible:!0,links_manager:"",cache_cleared:!1},a.API=a.props.route.params.API,a.API.getConfigs_local().then((function(e){a.setState({webView_visible:e.webView_visible,links_manager:e.links_manager})})),a}return u()(n,[{key:"save",value:function(){}},{key:"cancel",value:function(){}},{key:"componentDidMount",value:function(){this.props.navigation.setParams({save:this.save,cancel:this.cancel})}},{key:"saveConfig",value:function(e,t){this.API.setConfig(e,t),this.setState(ge()({},e,t))}},{key:"get_API_links",value:function(){return this.API.configs.action_link.map((function(e,t){var n=e.split("/").length>2?e.split("/")[2]:e;return i.a.createElement(ve.a.Item,{label:n,value:e,key:e})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(k.a,{style:{backgroundColor:"black"}},i.a.createElement(_.a,null,i.a.createElement(k.a,{style:ye.container},i.a.createElement(k.a,{style:ye.row_view},i.a.createElement(y.a,{style:ye.text_k}," Show WV  :"),i.a.createElement(k.a,{style:ye.text_v},i.a.createElement(ie.a,{style:ye.small_elemnt,value:this.state.webView_visible,onValueChange:function(t){e.saveConfig("webView_visible",t)}}))),i.a.createElement(k.a,{style:ye.row_view},i.a.createElement(y.a,{style:ye.text_k}," API  : "),i.a.createElement(ve.a,{selectedValue:this.state.links_manager,style:ye.text_v,onValueChange:function(t,n){return e.saveConfig("links_manager",t)}},this.get_API_links())),i.a.createElement(y.a,{style:[ye.row_view,{color:"#bdc3c7",justifyContent:"center",textAlign:"center"}]},this.state.links_manager),i.a.createElement(k.a,{style:ye.row_view},i.a.createElement(y.a,{style:ye.text_k}," Clear cache  :"),i.a.createElement(k.a,{style:ye.text_v},i.a.createElement(k.a,{style:ye.small_elemnt},i.a.createElement(b.a,{title:"Clear",color:"orange",disabled:this.state.cache_cleared,onPress:this.clearCache})))))))}}]),n}(i.a.Component);ke.navigationOptions=function(e){var t=e.navigation;return{headerStyle:{backgroundColor:"#34495e"},headerTitle:function(e){t.state;return i.a.createElement(y.a,{style:{fontSize:18,color:"#e67e22"}},"Settings")},headerRight:function(e){t.state.params;return null}}};var be=ke,we=n(190),_e=n(26),xe=n(64);function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var i=v()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return g()(this,n)}}var Se=Math.round(_e.a.get("window").width),Ce=Math.round(_e.a.get("window").height),Pe=[{rotate:"90deg"},{translateX:Se/1.9},{translateY:Ce/3.9}],Me=p.a.create({container:{backgroundColor:"black",flex:1},wbv_container:{width:Ce,height:Se,backgroundColor:"black",transform:Pe},WebViewStyle:{overflow:"hidden",width:"100%",height:"100%"}}),Ae=function(e){h()(n,e);var t=Ee(n);function n(e){var a;return l()(this,n),(a=t.call(this,e)).url=a.props.navigation.getParam("movie_link"),a.movie_title=a.props.navigation.getParam("movie_title"),a.url&&void 0!=a.url&&"/"!=a.url[0]||a.props.navigation.goBack(),a.state={output:"walo",movie_link:a.url,movie_title:a.movie_title},a.injectedJS='\n        window.onbeforeunload = function(event) {\n          if(document.location.href.includes("vidstream.to")){\n            event.returnValue = "Can be Ads, don\'t leave!";\n          }\n        };\n      ',a.originWhitelist=["*"],a.handleBackButtonClick=a.handleBackButtonClick.bind(Q()(a)),a}return u()(n,[{key:"componentWillMount",value:function(){X.a.addEventListener("hardwareBackPress",this.handleBackButtonClick)}},{key:"componentWillUnmount",value:function(){X.a.removeEventListener("hardwareBackPress",this.handleBackButtonClick)}},{key:"handleBackButtonClick",value:function(){var e=this.props.navigation.getParam("history");return this.props.navigation.navigate("Movie",{movie:e[e.length-1],history:e}),!0}},{key:"watch",value:function(){}},{key:"download",value:function(){ee.a.openURL(this.state.movie_dl_link)}},{key:"render",value:function(){var e=this;return i.a.createElement(k.a,{style:Me.container},i.a.createElement(k.a,{style:Me.wbv_container},i.a.createElement(xe.a,{hidden:!0}),i.a.createElement(we.WebView,{style:Me.WebViewStyle,source:{uri:this.state.movie_link},javaScriptEnabled:!0,domStorageEnabled:!0,injectedJavaScript:this.injectedJS,originWhitelist:this.originWhitelist,onLoadEnd:function(e){},ref:function(t){e.WebView=t},userAgent:"Mozilla/5.0 (Linux; Android 9.0.0;) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.116 Mobile Safari/537.36"})))}}]),n}(i.a.Component);Ae.navigationOptions=function(e){e.navigation;return{header:null}};var Be=Ae,Ie=n(164),Te=n(282),Re={screenHeader:{headerStyle:{backgroundColor:"#34495e",height:50},headerTintColor:"#e67e22",headerTitleStyle:{},headerTitleAlign:"center"}};console.disableYellowBox=!0;var Ne=Object(Te.a)();function We(){return i.a.createElement(Ne.Navigator,null,i.a.createElement(Ne.Screen,{options:Re.screenHeader,name:"Home",component:K}),i.a.createElement(Ne.Screen,{options:Re.screenHeader,name:"Movie",component:ae}),i.a.createElement(Ne.Screen,{options:Re.screenHeader,name:"WebViewer",component:he}),i.a.createElement(Ne.Screen,{options:Re.screenHeader,name:"Settings",component:be}),i.a.createElement(Ne.Screen,{options:Re.screenHeader,name:"Watch_WV",component:Be}))}function Oe(){return i.a.createElement(Ie.a,null,i.a.createElement(We,null))}},231:function(e,t,n){e.exports=n(277)}},[[231,1,2]]]);
//# sourceMappingURL=app.1027a2af.chunk.js.map